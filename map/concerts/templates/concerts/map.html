<!doctype html>
<html>
  <head>
    <title>Map</title>
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #chart_div {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      a {
        color: #17a2b8;
      }
      a:hover {
               color: #138496;
              }
    </style>

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

    <script>
      {% load js %}
      google.charts.load('current', { 'packages': ['map'] });
      google.charts.setOnLoadCallback(drawMap);

      function drawMap() {
        var a = {{ data | js }};
        var data = google.visualization.arrayToDataTable(a);

        var options = {
          showInfoWindow: true,
          icons: {
            default: {
              normal: '../../static/concerts/normal.png',
              selected: '../../static/concerts/selected.png'
            }
          }
        };

        var map = new google.visualization.Map(document.getElementById('chart_div'));

        map.draw(data, options);
      };
    </script>
  </head>
  <body>
    <div id="chart_div"></div>

    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDGJH48WTSTLfykQaM-d-LHlVTT1Z0qVYY&callback=initMap">
    </script>
  </body>
</html>