<!doctype html>
<html>
<head>
  <title>Map</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
   <link href="https://fonts.googleapis.com/css?family=Poiret+One" rel="stylesheet">
  <style>
      /* Always set the map height explicitly to define the size of the div
      * element that contains the map. */
      #chart_div {
        height: 90%;
        width: 80%;
        margin: auto;
        margin-bottom: 3%;
        margin-top: 2%;
      }
      /* Optional: Makes the sample page fill the window. */
      .column{
        float: left;
        width: 38%;
        margin-left: 6%;
        margin-right: 6%;

      }
      .bar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-top: 1%;
      }
      .title {
        font-size: 72px;
        font-family: 'Poiret One', cursive;
      }
      p {
        text-indent: 50px;
      }

      h1 {
        margin-bottom: 4%;
        font-size: 72px;
        font-family: 'Poiret One';
      }


      h3 {
        margin-bottom: : 4%;
      }
      </style>

      <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

      <script>
      {% load js %}
      google.charts.load('current', { 'packages': ['map'] });
      google.charts.setOnLoadCallback(drawMap);

      function drawMap() {
        var a = {{ data | js }};
        var data = google.visualization.arrayToDataTable(a);

        var options = {
          showInfoWindow: true,
          icons: {
            default: {
              normal: '../../static/concerts/normal.png',
              selected: '../../static/concerts/selected.png'
            }
          }
        };

        var map = new google.visualization.Map(document.getElementById('chart_div'));

        map.draw(data, options);
      };
      </script>
    </head>
    <body>
     <div class="bar">
      <a onclick="javascript:window.close()" class="btn btn-lg btn-primary btn-outline-primary" style="margin-left: 2%">Return</a>
      <h1 class="title">Concert Finder</h1>
      <a href="/concerts" class="btn btn-lg btn-primary btn-outline-primary" style="margin-right: 2%">Logout</a>
    </div>
    <div id='map'>
      <div id="chart_div"></div>
    </div>

    <h1 align=center><b>{{ name }}</b></h1>


    <div class="column">
      <h3 align=center>Tour Dates</h3>
      <div class="main">
       <table cellpadding="0" cellspacing="0" border="0" class="datatable table table-striped table-bordered">
        <thead>
         <tr>
          <th></th>
          <th>Date</th>
          <th>Venue</th>
          <th>City</th>
        </tr>
      </thead>
      <tbody>
       {% for Date, Venue, City in table_data %}
       <tr>
         <td>{{ forloop.counter }}</td>
         <td>{{ Date }}</td>
         <td>{{ Venue }}</td>
         <td>{{ City }}</td>
       </tr>
       {% endfor %}
     </tbody>
   </table>
 </div>
</div>
<div class="column">
 <h3 align=center>About</h3>
 <p>{{ bio }}</p>
</div>



  <script async defer
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDGJH48WTSTLfykQaM-d-LHlVTT1Z0qVYY&callback=initMap">
  </script>
  <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
  <div class="column">
  </body>
  </html>